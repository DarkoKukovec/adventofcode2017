C={'>':(a,b)=>a>b,'<':(a,b)=>a<b,'>=':(a,b)=>a>=b,'<=':(a,b)=>a<=b,'!=':(a,b)=>a!=b,'==':(a,b)=>a==b};G=(r, n)=>r[n]||0;U=(r, n, v)=>{r[n]=~~r[n]+v;return r};module.exports=i=>{r=i.split('\n').map(l=>{let[A,d,v,_,B,c,V]=l.split(/\s/);return{A,v:~~v*(d=='inc'?1:-1),B,c:a=>C[c](a,~~V)}}).reduce((r,{A,v,B,c})=>c(G(r, B))?U(r,A,v):r,{});return Math.max(...Object.values(r))}