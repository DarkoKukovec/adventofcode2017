C={'>':(a,b)=>a>b,'<':(a,b)=>a<b,'>=':(a,b)=>a>=b,'<=':(a,b)=>a<=b,'!=':(a,b)=>a!=b,'==':(a,b)=>a==b};G=(r, n)=>r[n]||0;U=(r, n, v)=>{r[n]=r[n]?r[n]+v:v;return r};module.exports=i=>i.split('\n').map(l=>{let[A,d,v,_,B,c,V]=l.split(/\s+/);return{A,v:~~v*(d=='inc'?1:-1),B,c:a=>C[c](a,~~V)}}).reduce(({r,m},{A,v,B,c})=>{if(c(G(r,B)))U(r,A,v),m=Math.max(m,...Object.values(r));return{r,m}},{r:{},m:0}).m;